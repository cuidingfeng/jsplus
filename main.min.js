(function(){"use strict";var n,e,r,t,u,i,o,c,f,l,s=function(n,e){return(n%e+ +e)%e};n=function(){},n.debug=!0,l={number:/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,lowercase:/^[a-z]$/,uppercase:/^[A-Z]$/,numberCn:/^[零一二三四五六七八九十百千万亿]+$/},e={number:{getnum:function(n){return Number(n)},getstr:function(n){return n}},lowercase:{getnum:function(n){return n.charCodeAt(0)-97},getstr:function(n){return String.fromCharCode(n+97)}},uppercase:{getnum:function(n){return n.charCodeAt(0)-65},getstr:function(n){return String.fromCharCode(n+65)}},numberCn:{getnum:function(e){return n.cn2num(e)},getstr:function(e){return n.num2cn(e)}}},f=function(e){return n.debug?console.log("JS-Plus:"+e):void 0},u=function(n){return"function"==typeof n?n:function(e,r){return n.replace("$1",r).replace("$index",e)}},o=function(n){var r,t,u;return null==n&&(n=""),t=n.split(":"),t.length<2?(f('数列格式错误，请至少包括一个":"，否则原样返回'),[n,0,null,-1]):(2===t.length?(t[2]=t[1],t[1]=null):(t[1]=parseFloat(t[1]),t[1]||(f("数列递增字符格式不正确，必须为数字"),t[1]=0,u=-1)),u=c(t[0]),u!==c(t[2])&&(f("数列起始值和结束值类型不一致"),t[1]=0,u=-1),-1===u?(f("数列格式暂时不支持"),t[1]=0):(r=e[["number","lowercase","uppercase","numberCn"][u]].getnum,t[0]=r(t[0]),t[2]=r(t[2]),null===t[1]?t[1]=t[0]<t[2]?1:-1:0!==t[1]&&(t[0]<t[2]?1:-1)*t[1]<0&&(f("数列递增数字正负符号不正确，无法从起始值递增到结束值"),t[1]=0)),[t[0],t[1],t[2],u])},c=function(n){return l.number.test(n)?0:l.lowercase.test(n)?1:l.uppercase.test(n)?2:l.numberCn.test(n)?3:-1},i=function(n){var e,r;if(r=[],0===n[1]||-1===n[3])null!=n[0]&&r.push(n[0]),null!=n[2]&&r.push(n[2]);else for(e=n[0];e<=n[2]&&n[1]>0||e>=n[2]&&n[1]<0;)r.push(e),e+=n[1];return r},t=function(n,r){var t,u,i,o,c;if(-1!==r)for(t=e[["number","lowercase","uppercase","numberCn"][r]].getstr,u=o=0,c=n.length;c>o;u=++o)i=n[u],n[u]=t(i);return n},r=function(n,e){var r,t,u,i;for(r=u=0,i=n.length;i>u;r=++u)t=n[r],n[r]=e(r,t);return n},n.arr=function(){var n,e,c,f,l,s,a,p,g;if(n=Array.prototype.slice.call(arguments,0),s=n[0],null==s||"string"!=typeof s)return[];for(c=[],e=u(n[1]||function(n,e){return e}),a=s.split(/\s*,\s*/),p=0,g=a.length;g>p;p++)s=a[p],l=o(s),f=i(l),c=c.concat(t(f,l[3]));return r(c,e)},n.cn2num=function(e){var r,t,u,i,o,c;return r=function(e,r){return/^[一二三四五六七八九]$/.test(e)?n.cn2num(e)*r:n.cn2num(e.replace(/^零+/g,""))},"string"!=typeof e?(f("中文数字转换参数类型不是String"),0):""===e?0:l.numberCn.test(e)?(c=e.split("亿"),c.length>2?(f("中文数字转换最大支持单位为千万亿"),0):2===c.length?1e8*n.cn2num(c[0])+r(c[1],1e7):(o=e.split("万"),o.length>2?(f("中文数字转换格式不正确，不能同时包含两个万字"),0):2===o.length?1e4*n.cn2num(o[0])+r(o[1],1e3):(u=e.split("千"),u.length>2?(f("中文数字转换格式不正确，不能同时包含两个千字"),0):2===u.length?1e3*n.cn2num(u[0])+r(u[1],100):(t=e.split("百"),t.length>2?(f("中文数字转换格式不正确，不能同时包含两个百字"),0):2===t.length?100*n.cn2num(t[0])+r(t[1],10):(i=e.split("十"),i.length>2?(f("中文数字转换格式不正确，不能同时包含两个十字"),0):2===i.length?10*n.cn2num(i[0]||"一")+r(i[1],1):"一二三四五六七八九".indexOf(e)+1))))):(f("中文数字转换格式不正确"),0)},n.num2cn=function(e,r){var t,u,i,o,c,l,a,p;if("number"!=typeof e)return f("数字换中文参数错误，必须为数字"),e+"";if(0>e||e%1>0)return f("数字换中文只支持自然数"),e+"";if(0===e)return r?"":"零";for(c=function(n,e){return[Math.floor(n/e),s(n,e),e]},u=[["亿",1e8],["万",1e4],["千",1e3],["百",100],["十",10]],t=a=0,p=u.length;p>a;t=++a){if(i=u[t],o=c(e,i[1]),o[0]>0)return n.num2cn(o[0],!0)+i[0]+(o[1]<o[2]/10&&o[1]>0?"零":"")+n.num2cn(o[1],!0);if(t===p-1)return l="一二三四五六七八九".split(""),l.unshift(""),l[o[1]]}},n.assign=function(n){var e,r,t;if(!(n instanceof Array))return f("参数类型错误，期望是Array"),null;for(r=0,t=n.length;t>r;r++){if(e=n[r],!(e instanceof Array))return e;if(1===e.length||e.length>1&&e[1])return e[0]}return f("无匹配的值"),null},n.inArr=function(n,e,r){var t,u,i,o,c;if(!(n instanceof Array))return f("参数类型错误，期望是Array"),null;for(e instanceof Function||(u=e,e=function(n,e,r){var t;return t=u.replace("$index",n).replace("$1",e).replace("$size",r),new Function("return "+t)()}),i=o=0,c=n.length;c>o;i=++o)if(t=n[i],e(i,t,c))return r?t:!0;return r?void 0:!1},n.forArr=function(n,e,r){var t,u,i,o,c,l,s;if(!(n instanceof Array))return f("参数类型错误，期望是Array"),null;for(c=[],e instanceof Function||(u=e,e=function(n,e,r){var t;return t=u.replace("$index",n).replace("$1",e).replace("$size",r),new Function("return "+t)()}),i=l=0,s=n.length;s>l;i=++l)t=n[i],o=e(i,t,s),c.push(o),r&&(n[i]=o);return c},"function"==typeof require&&"object"==typeof module&&module&&module.id&&"object"==typeof exports&&exports?module.exports=n:"function"==typeof define&&define.amd?(define("jsplus",[],function(){return n}),define(function(){return n})):this.P=n}).call(this);