(function(){"use strict";var n,r,e,t,u,i,c,o,l,f,a=function(n,r){return(n%r+ +r)%r};n=function(){},n.debug=!0,f={number:/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,lowercase:/^[a-z]$/,uppercase:/^[A-Z]$/,numberCn:/^[零一二三四五六七八九十百千万亿]+$/},r={number:{getnum:function(n){return Number(n)},getstr:function(n){return n}},lowercase:{getnum:function(n){return n.charCodeAt(0)-97},getstr:function(n){return String.fromCharCode(n+97)}},uppercase:{getnum:function(n){return n.charCodeAt(0)-65},getstr:function(n){return String.fromCharCode(n+65)}},numberCn:{getnum:function(r){return n.cn2num(r)},getstr:function(r){return n.num2cn(r)}}},l=function(r){return n.debug?console.log("JS-Plus:"+r):void 0},u=function(n){return"function"==typeof n?n:function(r,e){return n.replace("$1",e).replace("$index",r)}},c=function(n){var e,t,u;return null==n&&(n=""),t=n.split(":"),t.length<2?(l('数列格式错误，请至少包括一个":"，否则原样返回'),[n,0,null,-1]):(2===t.length?(t[2]=t[1],t[1]=null):(t[1]=parseFloat(t[1]),t[1]||(l("数列递增字符格式不正确，必须为数字"),t[1]=0)),u=o(t[0]),u!==o(t[2])&&(l("数列起始值和结束值类型不一致"),t[1]=0),-1===u?(l("数列格式暂时不支持"),t[1]=0):(e=r[["number","lowercase","uppercase","numberCn"][u]].getnum,t[0]=e(t[0]),t[2]=e(t[2]),null===t[1]?t[1]=t[0]<t[2]?1:-1:0!==t[1]&&(t[0]<t[2]?1:-1)*t[1]<0&&(l("数列递增数字正负符号不正确，无法从起始值递增到结束值"),t[1]=0)),[t[0],t[1],t[2],u])},o=function(n){return f.number.test(n)?0:f.lowercase.test(n)?1:f.uppercase.test(n)?2:f.numberCn.test(n)?3:-1},i=function(n){var r,e;if(e=[],0===n[1]||-1===n[3])n[0]&&e.push(n[0]),n[2]&&e.push(n[2]);else for(r=n[0];r<=n[2]&&n[1]>0||r>=n[2]&&n[1]<0;)e.push(r),r+=n[1];return e},t=function(n,e){var t,u,i,c,o;if(-1!==e)for(t=r[["number","lowercase","uppercase","numberCn"][e]].getstr,u=c=0,o=n.length;o>c;u=++c)i=n[u],n[u]=t(i);return n},e=function(n,r){var e,t,u,i;for(e=u=0,i=n.length;i>u;e=++u)t=n[e],n[e]=r(e,t);return n},n.arr=function(){var n,r,o,l,f,a,s,g,p;if(n=Array.prototype.slice.call(arguments,0),a=n[0],null==a||"string"!=typeof a)return[];for(o=[],r=u(n[1]||function(n,r){return r}),s=a.split(/\s*,\s*/),g=0,p=s.length;p>g;g++)a=s[g],f=c(a),l=i(f),o=o.concat(t(l,f[3]));return e(o,r)},n.cn2num=function(r){var e,t,u,i,c,o;return e=function(r,e){return/^[一二三四五六七八九]$/.test(r)?n.cn2num(r)*e:n.cn2num(r.replace(/^零+/g,""))},"string"!=typeof r?(l("中文数字转换参数类型不是String"),0):""===r?0:f.numberCn.test(r)?(o=r.split("亿"),o.length>2?(l("中文数字转换最大支持单位为千万亿"),0):2===o.length?1e8*n.cn2num(o[0])+e(o[1],1e7):(c=r.split("万"),c.length>2?(l("中文数字转换格式不正确，不能同时包含两个万字"),0):2===c.length?1e4*n.cn2num(c[0])+e(c[1],1e3):(u=r.split("千"),u.length>2?(l("中文数字转换格式不正确，不能同时包含两个千字"),0):2===u.length?1e3*n.cn2num(u[0])+e(u[1],100):(t=r.split("百"),t.length>2?(l("中文数字转换格式不正确，不能同时包含两个百字"),0):2===t.length?100*n.cn2num(t[0])+e(t[1],10):(i=r.split("十"),i.length>2?(l("中文数字转换格式不正确，不能同时包含两个十字"),0):2===i.length?10*n.cn2num(i[0]||"一")+e(i[1],1):"一二三四五六七八九".indexOf(r)+1))))):(l("中文数字转换格式不正确"),0)},n.num2cn=function(r,e){var t,u,i,c,o,f,s,g;if("number"!=typeof r)return l("数字换中文参数错误，必须为数字"),r+"";if(0>r||r%1>0)return l("数字换中文只支持自然数"),r+"";if(0===r)return e?"":"零";for(o=function(n,r){return[Math.floor(n/r),a(n,r),r]},u=[["亿",1e8],["万",1e4],["千",1e3],["百",100],["十",10]],t=s=0,g=u.length;g>s;t=++s){if(i=u[t],c=o(r,i[1]),c[0]>0)return n.num2cn(c[0],!0)+i[0]+(c[1]<c[2]/10&&c[1]>0?"零":"")+n.num2cn(c[1],!0);if(t===g-1)return f="一二三四五六七八九".split(""),f.unshift(""),f[c[1]]}},n.assign=function(n){var r,e,t;if(!(n instanceof Array))return l("参数类型错误，期望是Array"),null;for(e=0,t=n.length;t>e;e++){if(r=n[e],!(r instanceof Array))return r;if(1===r.length||r.length>1&&r[1])return r[0]}return l("无匹配的值"),null},n.inArr=function(n,r,e){var t,u,i,c,o;if(!(n instanceof Array))return l("参数类型错误，期望是Array"),null;for(r instanceof Function||(u=r,r=function(n,r,e){var t;return t=u.replace("$index",n).replace("$1",r).replace("$size",e),new Function("return "+t)()}),i=c=0,o=n.length;o>c;i=++c)if(t=n[i],r(i,t,o))return e?t:!0;return e?void 0:!1},n.forArr=function(n,r,e){var t,u,i,c,o,f,a;if(!(n instanceof Array))return l("参数类型错误，期望是Array"),null;for(o=[],r instanceof Function||(u=r,r=function(n,r,e){var t;return t=u.replace("$index",n).replace("$1",r).replace("$size",e),new Function("return "+t)()}),i=f=0,a=n.length;a>f;i=++f)t=n[i],c=r(i,t,a),o.push(c),e&&(n[i]=c);return o},this.P=n}).call(this);